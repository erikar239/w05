{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Avatar\\\\w05\\\\w05\\\\todo-app-frontend-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Avatar\\\\w05\\\\w05\\\\todo-app-frontend-master\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport moment from \"moment\";\nimport findIndex from \"lodash/findIndex\";\nimport axios from \"./axios\";\nimport AddTodo from \"./views/AddTodo\";\nimport TodoList from \"./views/TodoList\";\nimport Navbar from \"./components/Navbar\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: []\n    };\n\n    this.addTodo = async todo => {\n      const newTodo = _objectSpread({}, todo, {\n        finished: false,\n        createdAt: moment().format()\n      });\n\n      const result = await axios.post(\"/todos\", newTodo);\n      newTodo.id = result.data;\n      this.setState(prevState => {\n        return {\n          todos: prevState.todos.concat(newTodo)\n        };\n      });\n    };\n\n    this.editTodo = todo => {\n      const index = findIndex(this.state.todos, {\n        id: todo.id\n      });\n      const todos = [...this.state.todos];\n      todos.splice(index, 1, todo);\n      this.setState({\n        todos: todos\n      });\n    };\n\n    this.removeTodo = todo => {\n      const index = findIndex(this.state.todos, {\n        id: todo.id\n      });\n      const todos = [...this.state.todos];\n      todos.splice(index, 1);\n      this.setState({\n        todos: todos\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const result = await axios.get(\"/todos\");\n    this.setState({\n      todos: result.data\n    });\n  }\n\n  render() {\n    const todos = this.state.todos;\n    return React.createElement(HashRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"p-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: () => React.createElement(TodoList, {\n        todos: todos,\n        onEdit: this.editTodo,\n        onRemove: this.removeTodo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/add\",\n      render: () => React.createElement(AddTodo, {\n        onAdd: this.addTodo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\Avatar\\w05\\w05\\todo-app-frontend-master\\src\\App.js"],"names":["React","Component","HashRouter","Switch","Route","moment","findIndex","axios","AddTodo","TodoList","Navbar","App","state","todos","addTodo","todo","newTodo","finished","createdAt","format","result","post","id","data","setState","prevState","concat","editTodo","index","splice","removeTodo","componentDidMount","get","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport moment from \"moment\";\nimport findIndex from \"lodash/findIndex\";\n\nimport axios from \"./axios\";\n\nimport AddTodo from \"./views/AddTodo\";\nimport TodoList from \"./views/TodoList\";\nimport Navbar from \"./components/Navbar\";\n\nclass App extends Component {\n  state = {\n    todos: []\n  };\n\n  async componentDidMount() {\n    const result = await axios.get(\"/todos\");\n\n    this.setState({\n      todos: result.data\n    });\n  }\n\n  addTodo = async todo => {\n    const newTodo = {\n      ...todo,\n      finished: false,\n      createdAt: moment().format()\n    };\n    const result = await axios.post(\"/todos\", newTodo);\n    newTodo.id = result.data;\n\n    this.setState(prevState => {\n      return {\n        todos: prevState.todos.concat(newTodo)\n      };\n    });\n  };\n\n  editTodo = (todo) => {\n    const index = findIndex(this.state.todos, { id: todo.id })\n    const todos = [...this.state.todos];\n    todos.splice(index, 1, todo);\n    this.setState({\n      todos: todos\n    });\n  };\n\n  removeTodo = (todo) => {\n    const index = findIndex(this.state.todos, { id: todo.id })\n    const todos = [...this.state.todos];\n    todos.splice(index, 1);\n    this.setState({\n      todos: todos\n    });\n  };\n\n  render() {\n    const todos = this.state.todos;\n    return (\n      <HashRouter>\n        <div className=\"App\">\n          <Navbar />\n\n          <div className=\"p-3\">\n          <Switch>\n            <Route\n              path=\"/\"\n              exact\n              render={() => (\n                <TodoList\n                  todos={todos}\n                  onEdit={this.editTodo}\n                  onRemove={this.removeTodo}\n                />\n              )}\n            />\n            <Route\n              path=\"/add\"\n              render={() => <AddTodo onAdd={this.addTodo} />}\n            />\n          </Switch>\n          </div>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}